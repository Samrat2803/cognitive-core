# 🎨 Infographic Schema System - Complete Guide

**Separation of Concerns**: Data Structure ≠ Visual Design

---

## 🎯 **Core Concept**

```
┌─────────────────────────────────────────────────────────────┐
│  SCHEMA TYPE (6 options)      +    VISUAL TEMPLATE (6 options)  │
│  ↓                                  ↓                        │
│  Data Structure                     Design Style             │
│  What to say                        How to say it            │
└─────────────────────────────────────────────────────────────┘
                           ↓
                  Beautiful Infographic
```

**Key Innovation**: 
- Agents only deal with **data schemas** (structure)
- Visual templates handle **presentation** (design)
- 6 schemas × 6 templates = **36 possible combinations**

---

## 📊 **The 6 Schema Types**

### **1. Key Metrics Dashboard**
**Schema**: `KeyMetricsDashboard`  
**Use For**: KPIs, sentiment scores, summary statistics, overview dashboards

```python
KeyMetricsDashboard(
    title="US Climate Policy Sentiment",
    subtitle="Real-time Analysis Across Media Sources",
    metrics=[
        MetricItem(value="72%", label="Overall Support"),
        MetricItem(value="1.2M", label="Articles Analyzed"),
        MetricItem(value="+15%", label="Weekly Change"),
        MetricItem(value="28", label="Countries Tracked")
    ],
    insight="Public sentiment shows strong support...",
    footer="Generated by Political Analysis AI"
)
```

**Fields**:
- `title`: Main headline
- `subtitle`: Secondary description
- `metrics`: List of 2-6 metric items (value + label)
- `insight`: Optional key takeaway
- `footer`: Optional attribution

**Best With Agents**: Sentiment Analyzer, Live Monitor, Fact Checker

---

### **2. Comparison View**
**Schema**: `ComparisonView`  
**Use For**: A vs B, source comparison, before/after, side-by-side analysis

```python
ComparisonView(
    title="Media Bias: CNN vs Fox News",
    subtitle="Coverage of Climate Policy",
    left_side=ComparisonSide(
        title="CNN",
        metrics=[MetricItem(value="68%", label="Positive Coverage")]
    ),
    right_side=ComparisonSide(
        title="Fox News",
        metrics=[MetricItem(value="34%", label="Positive Coverage")]
    ),
    conclusion="34-point sentiment gap",
    footer="Media Bias Detector"
)
```

**Fields**:
- `title`: Main headline
- `subtitle`: What's being compared
- `left_side`: First entity (title + metrics)
- `right_side`: Second entity (title + metrics)
- `conclusion`: Optional comparison summary
- `footer`: Optional attribution

**Best With Agents**: Bias Detector, Comparative Analysis, Entity Extractor

---

### **3. Timeline/Progression**
**Schema**: `TimelineProgression`  
**Use For**: Time-series, historical trends, evolution, event sequences

```python
TimelineProgression(
    title="Climate Policy Sentiment Evolution",
    subtitle="Public Opinion Trends - 2024-2025",
    timeline_points=[
        TimelinePoint(date="Jan 2024", value="52%", label="Initial Support"),
        TimelinePoint(date="Jun 2024", value="58%", label="Rising Interest"),
        TimelinePoint(date="Dec 2024", value="65%", label="Growing Momentum"),
        TimelinePoint(date="Oct 2025", value="72%", label="Strong Support")
    ],
    trend="Steady 20-point increase over 21 months",
    footer="Sentiment Analyzer"
)
```

**Fields**:
- `title`: Main headline
- `subtitle`: What's being tracked
- `timeline_points`: List of 2-6 time points (date, value, label)
- `trend`: Optional overall trend description
- `footer`: Optional attribution

**Best With Agents**: Sentiment Analyzer (historical), Live Monitor (events), Fact Checker (claim evolution)

---

### **4. Ranking/Leaderboard**
**Schema**: `RankingLeaderboard`  
**Use For**: Top N lists, source credibility, entity rankings, scores

```python
RankingLeaderboard(
    title="Most Credible News Sources",
    subtitle="Fact-Checking Accuracy - Sept 2025",
    ranked_items=[
        RankedItem(rank=1, name="Reuters", score="94.2%", change="—"),
        RankedItem(rank=2, name="AP News", score="93.8%", change="↑1"),
        RankedItem(rank=3, name="BBC News", score="91.5%", change="↓1"),
        RankedItem(rank=4, name="The Guardian", score="89.3%", change="—"),
        RankedItem(rank=5, name="NPR", score="88.7%", change="New")
    ],
    methodology="Based on fact-check verification rate",
    footer="Fact Checker Agent"
)
```

**Fields**:
- `title`: Main headline
- `subtitle`: What's being ranked
- `ranked_items`: List of 2-10 ranked items (rank, name, score, change)
- `methodology`: Optional explanation of ranking
- `footer`: Optional attribution

**Best With Agents**: Fact Checker, Bias Detector, Comparative Analysis

---

### **5. Hero Stat**
**Schema**: `HeroStat`  
**Use For**: Single major finding, headline number, key announcement

```python
HeroStat(
    title="Election 2024 Prediction Accuracy",
    hero_value="94.7%",
    hero_label="Prediction Accuracy",
    supporting_stats=[
        MetricItem(value="342/361", label="Races Predicted Correctly"),
        MetricItem(value="0.8%", label="Margin of Error"),
        MetricItem(value="15M", label="Data Points Analyzed")
    ],
    context="Our predictive model achieved record accuracy...",
    footer="Predictive Analytics • Nov 2024"
)
```

**Fields**:
- `title`: Main headline/question
- `hero_value`: The big number (e.g., "87%", "$2.4B")
- `hero_label`: What the number represents
- `supporting_stats`: Optional 0-3 supporting metrics
- `context`: Explanation paragraph
- `footer`: Optional attribution

**Best With Agents**: All agents (for highlighting key findings)

---

### **6. Category Breakdown**
**Schema**: `CategoryBreakdown`  
**Use For**: Geographic analysis, demographic breakdown, category distribution

```python
CategoryBreakdown(
    title="Climate Policy Support by Region",
    subtitle="Geographic Sentiment Analysis - USA",
    breakdown_type="Geographic",
    categories=[
        CategoryItem(name="West Coast", value="82%", percentage="26%"),
        CategoryItem(name="Northeast", value="76%", percentage="22%"),
        CategoryItem(name="Midwest", value="58%", percentage="19%"),
        CategoryItem(name="South", value="51%", percentage="18%"),
        CategoryItem(name="Southwest", value="63%", percentage="15%")
    ],
    total_label="National Average",
    total_value="66%",
    insight="31-point spread between highest and lowest regions",
    footer="Geo-Sentiment Analyzer"
)
```

**Fields**:
- `title`: Main headline
- `subtitle`: What's being broken down
- `breakdown_type`: Type (e.g., "Geographic", "Demographic")
- `categories`: List of 2-8 categories (name, value, percentage)
- `total_label`: Optional label for total
- `total_value`: Optional total value
- `insight`: Optional key takeaway
- `footer`: Optional attribution

**Best With Agents**: Sentiment Analyzer (regional), Entity Extractor, Comparative Analysis

---

## 🎨 **The 6 Visual Templates**

| # | Template | Style | Best For |
|---|----------|-------|----------|
| 1 | **Gradient Modern** | Purple glassmorphism | Tech-forward, modern presentations |
| 2 | **Minimalist Mono** | Black & white editorial | Professional reports, print-ready |
| 3 | **Vibrant Cards** | Colorful gradient cards | Social media, engaging content |
| 4 | **Neon Dark** | Cyberpunk cyan/magenta | Live monitoring, real-time alerts |
| 5 | **Clean Corporate** | Blue/white professional | Business reports, executive summaries |
| 6 | **Playful Rounded** | Fun bubble design | Social media, youth audiences |

---

## 💻 **How Agents Use the System**

### **Step 1: Choose Schema Type**

```python
from infographic_schemas import KeyMetricsDashboard, MetricItem

# Agent decides: "I want to show key metrics"
schema_type = "key_metrics"
```

### **Step 2: Create Data**

```python
# Agent populates the schema
data = KeyMetricsDashboard(
    title="My Agent's Analysis",
    subtitle="Results Summary",
    metrics=[
        MetricItem(value="75%", label="Primary Metric"),
        MetricItem(value="1.2K", label="Secondary Metric"),
        MetricItem(value="+10%", label="Change")
    ],
    insight="Key finding from analysis",
    footer="My Agent Name"
)
```

### **Step 3: Choose Visual Style**

```python
# Agent (or user) chooses visual template
visual_template = "gradient_modern"  # or any of the 6
```

### **Step 4: Render**

```python
from html_infographic_renderer import HTMLInfographicRenderer

renderer = HTMLInfographicRenderer()

result = renderer.render(
    schema_data=data,
    visual_template=visual_template
)

print(f"Generated: {result['path']}")
```

### **Step 5: Return as Artifact**

```python
# In agent's state/output
return {
    "artifacts": [result],
    "status": "complete"
}
```

---

## 🔄 **The Power: Same Data, Multiple Styles**

```python
# One schema instance
data = KeyMetricsDashboard(...)

# Generate in ALL 6 styles
for template in ["gradient_modern", "minimalist_mono", "vibrant_cards", 
                 "neon_dark", "clean_corporate", "playful_rounded"]:
    result = renderer.render(data, template)
    print(f"Created: {template} version")

# Result: 6 infographics, same data, different looks!
```

---

## 📋 **Schema Validation**

All schemas use **Pydantic** for automatic validation:

```python
# ✅ Valid
data = KeyMetricsDashboard(
    title="Test",
    subtitle="Test",
    metrics=[
        MetricItem(value="1", label="A"),
        MetricItem(value="2", label="B")
    ]
)  # Success!

# ❌ Invalid - Need at least 2 metrics
data = KeyMetricsDashboard(
    title="Test",
    subtitle="Test",
    metrics=[
        MetricItem(value="1", label="Only One")
    ]
)  # ValidationError!
```

---

## 🎯 **Schema Choice Guide**

| Agent | Primary Schema | Alternative Schemas |
|-------|---------------|---------------------|
| **Sentiment Analyzer** | Key Metrics, Timeline | Category Breakdown, Hero Stat |
| **Bias Detector** | Comparison, Ranking | Key Metrics |
| **Fact Checker** | Ranking, Hero Stat | Timeline |
| **Live Monitor** | Key Metrics, Timeline | Hero Stat |
| **Comparative Analysis** | Comparison, Ranking | Category Breakdown |
| **Entity Extractor** | Category Breakdown | Ranking |

---

## 📦 **Files**

```
backend_v2/shared/
├── infographic_schemas.py              # 6 schema definitions
├── html_infographic_renderer.py        # Renderer (schema → HTML)
├── templates/
│   └── html_samples/
│       ├── template_1_gradient_modern.html
│       ├── template_2_minimalist_mono.html
│       ├── template_3_vibrant_cards.html
│       ├── template_4_neon_dark.html
│       ├── template_5_clean_corporate.html
│       └── template_6_playful_rounded.html
└── artifacts/                          # Generated infographics
```

---

## 🚀 **Quick Start Example**

```python
from infographic_schemas import KeyMetricsDashboard, MetricItem
from html_infographic_renderer import HTMLInfographicRenderer

# 1. Create data
data = KeyMetricsDashboard(
    title="Quick Test",
    subtitle="Testing the system",
    metrics=[
        MetricItem(value="100%", label="Success Rate"),
        MetricItem(value="5 min", label="Setup Time")
    ],
    insight="System works perfectly!"
)

# 2. Render
renderer = HTMLInfographicRenderer()
result = renderer.render(data, "gradient_modern")

# 3. Done!
print(f"Created: {result['path']}")
```

---

## ✅ **Advantages of This System**

### **For Agents**:
- ✅ Only learn 6 simple schemas
- ✅ Don't worry about design
- ✅ Type-safe with Pydantic
- ✅ Automatic validation
- ✅ Clear documentation

### **For Users**:
- ✅ Consistent data structure
- ✅ Flexible visual styles
- ✅ 36 possible combinations (6×6)
- ✅ Easy to add new templates
- ✅ Easy to add new schemas

### **For System**:
- ✅ Clean separation of concerns
- ✅ Maintainable codebase
- ✅ Testable components
- ✅ Extensible architecture

---

## 🔮 **Future Extensions**

### **Easy to Add**:
- ✅ New visual templates (keep same schemas)
- ✅ New schema types (work with all templates)
- ✅ PNG/PDF export (use Playwright)
- ✅ Reel animation (use MoviePy)
- ✅ PowerPoint export (use python-pptx)

### **Already Built**:
- ✅ 6 schemas covering most use cases
- ✅ 6 diverse visual templates
- ✅ Automatic validation
- ✅ Type safety
- ✅ Complete documentation

---

## 📊 **Schema × Template Matrix**

|  | Gradient | Minimalist | Vibrant | Neon | Corporate | Playful |
|--|----------|------------|---------|------|-----------|---------|
| **Key Metrics** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| **Comparison** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| **Timeline** | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| **Ranking** | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| **Hero Stat** | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |
| **Category** | ⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |

**All combinations work** - some are just more visually optimal!

---

## 🎉 **System Status**

✅ **Complete and Ready to Use**
- 6 schemas defined
- 6 templates created
- Renderer implemented
- Validation working
- Documentation complete
- Examples tested

**Agents can start using immediately!**

---

**Created**: October 2, 2025  
**System**: HTML Infographic Schema System  
**Files**: `infographic_schemas.py` + `html_infographic_renderer.py`  
**Status**: Production Ready ✅

